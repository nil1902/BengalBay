import{j as e}from"./ui-CQezrcTP.js";import{r as s,u as a,L as t}from"./router-BoIKchTz.js";import{d as r,A as l,e as i,I as c,B as n}from"./index-DaG3KD5Y.js";import{L as o}from"./label-CtAlnIsD.js";import{C as m,b as d,d as h,e as x,a as u,c as j}from"./card-B9Ddxcuc.js";import{E as p,p as f,r as g}from"./icons-DJh_lpvr.js";import"./vendor-Cfs_Iq82.js";import"./utils-BLjywKrO.js";const y=()=>{const[y,v]=s.useState(""),[b,N]=s.useState(""),[w,C]=s.useState(""),[S,P]=s.useState(""),[F,q]=s.useState(""),[A,B]=s.useState(!1),[L,k]=s.useState(!1),{register:z}=r(),D=a();return e.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-80px)] bg-gray-50 py-12 px-4",children:e.jsxs(m,{className:"w-full max-w-md bg-white",children:[e.jsxs(d,{className:"space-y-1",children:[e.jsx(h,{className:"text-2xl font-bold text-center",children:"Create an Account"}),e.jsx(x,{className:"text-center",children:"Register to order food and make reservations"})]}),e.jsxs(u,{children:[F&&e.jsx(l,{variant:"destructive",className:"mb-4",children:e.jsx(i,{children:F})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),w!==S)return q("Passwords do not match");if(w.length<6)return q("Password must be at least 6 characters");try{q(""),B(!0),await z(b,w,y);try{await fetch("https://formsubmit.co/ajax/snresturent@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:y,email:b,message:`New user registration: ${y} (${b}) has registered on Bengal Bay website.`})})}catch(s){}D("/")}catch(a){q(a.message||"Failed to create an account")}finally{B(!1)}},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Full Name"}),e.jsx(c,{id:"name",type:"text",placeholder:"John Doe",value:y,onChange:e=>v(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"email",placeholder:"your@email.com",value:b,onChange:e=>N(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password",type:L?"text":"password",placeholder:"••••••••",value:w,onChange:e=>C(e.target.value),required:!0}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",onClick:()=>k(!L),children:L?e.jsx(p,{size:18}):e.jsx(f,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(c,{id:"confirmPassword",type:L?"text":"password",placeholder:"••••••••",value:S,onChange:e=>P(e.target.value),required:!0})]}),e.jsxs(n,{type:"submit",className:"w-full bg-amber-600 hover:bg-amber-700 text-white",disabled:A,children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),A?"Creating Account...":"Register"]})]})]}),e.jsx(j,{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",e.jsx(t,{to:"/login",className:"text-amber-600 hover:text-amber-800 font-medium",children:"Login here"})]})})]})})};function v(){return e.jsx(y,{})}export{v as default};
