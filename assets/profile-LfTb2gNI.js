import{j as e}from"./ui-CQezrcTP.js";import{u as s,r as a,d as t,N as i}from"./router-BoIKchTz.js";import{d as l,B as r,A as c,e as n,I as d,S as m,f as o,g as x,q as h,w as g,o as j,i as p}from"./index-C-DdQI5T.js";import{T as u,a as b,b as N,c as v}from"./tabs-CHXOV11M.js";import{C as y,b as f,d as w,e as k,a as P}from"./card-8011F4v3.js";import{L as C}from"./label-tR7hQLnj.js";import{U as _,s as S,m as M,t as I,u as L,v as D,w as U,P as B,x as E,l as O,e as R,b as F}from"./icons-DJh_lpvr.js";import{B as A}from"./badge-DW0dkVXG.js";import"./vendor-Cfs_Iq82.js";import"./utils-BLjywKrO.js";const V=()=>{const{currentUser:t,logout:i,updateUserProfile:o}=l(),x=s(),[h,g]=a.useState("profile"),[j,p]=a.useState(!1),[E,O]=a.useState((null==t?void 0:t.displayName)||""),[R,F]=a.useState(""),[A,V]=a.useState(""),[$,z]=a.useState(!1),G=[],q=[];return e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Account"}),e.jsxs(u,{defaultValue:"profile",value:h,onValueChange:g,children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"scroll-fade-left"}),e.jsx("div",{className:"scroll-fade-right"}),e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide pb-2 gap-2",children:e.jsxs(b,{className:"flex w-full min-w-max space-x-2 bg-transparent",children:[e.jsxs(N,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap px-3 sm:px-4 py-2 bg-white border rounded-md hover:bg-gray-50 data-[state=active]:bg-amber-600 data-[state=active]:text-white transition-colors duration-200",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Profile"}),e.jsx("span",{className:"sm:hidden",children:"Profile"})]}),e.jsxs(N,{value:"orders",className:"flex items-center gap-2 whitespace-nowrap px-3 sm:px-4 py-2 bg-white border rounded-md hover:bg-gray-50 data-[state=active]:bg-amber-600 data-[state=active]:text-white transition-colors duration-200",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Orders"}),e.jsx("span",{className:"sm:hidden",children:"Orders"})]}),e.jsxs(N,{value:"bookings",className:"flex items-center gap-2 whitespace-nowrap px-3 sm:px-4 py-2 bg-white border rounded-md hover:bg-gray-50 data-[state=active]:bg-amber-600 data-[state=active]:text-white transition-colors duration-200",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Bookings"}),e.jsx("span",{className:"sm:hidden",children:"Bookings"})]}),e.jsxs(N,{value:"payment",className:"flex items-center gap-2 whitespace-nowrap px-3 sm:px-4 py-2 bg-white border rounded-md hover:bg-gray-50 data-[state=active]:bg-amber-600 data-[state=active]:text-white transition-colors duration-200",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Payment Methods"}),e.jsx("span",{className:"sm:hidden",children:"Payment"})]})]})})]})}),e.jsx(v,{value:"profile",children:e.jsxs(y,{children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Profile Information"}),e.jsx(k,{children:"Manage your personal information"})]}),j?e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{p(!1),O((null==t?void 0:t.displayName)||""),F(""),V("")},children:"Cancel"}):e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Edit Profile"]})]})}),e.jsxs(P,{children:[R&&e.jsx(c,{variant:"destructive",className:"mb-4",children:e.jsx(n,{children:R})}),A&&e.jsx(c,{className:"mb-4 bg-green-50 text-green-800 border-green-200",children:e.jsx(n,{children:A})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"name",children:"Full Name"}),j?e.jsx(d,{id:"name",value:E,onChange:e=>O(e.target.value)}):e.jsx("div",{className:"p-2 border rounded-md bg-gray-50",children:(null==t?void 0:t.displayName)||"Not set"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"email",children:"Email Address"}),e.jsx("div",{className:"p-2 border rounded-md bg-gray-50",children:null==t?void 0:t.email})]}),j&&e.jsxs(r,{onClick:async()=>{if(E.trim())try{F(""),z(!0),await o(E),V("Profile updated successfully"),p(!1)}catch(e){F(e.message||"Failed to update profile")}finally{z(!1)}else F("Name cannot be empty")},className:"bg-amber-600 hover:bg-amber-700 text-white",disabled:$,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),$?"Saving...":"Save Changes"]}),e.jsx(m,{className:"my-6"}),e.jsxs(r,{variant:"outline",className:"w-full sm:w-auto text-red-600 hover:text-red-700 hover:bg-red-50",onClick:async()=>{try{await i(),x("/")}catch(e){}},children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}),e.jsx(v,{value:"orders",children:e.jsxs(y,{children:[e.jsxs(f,{children:[e.jsx(w,{children:"Order History"}),e.jsx(k,{children:"View your past orders and their status"})]}),e.jsx(P,{children:0===G.length?e.jsxs("div",{className:"flex justify-center space-x-8 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"New Orders"}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>x("/menu"),children:"Browse Menu"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Order History"}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>x("/profile?tab=orders"),children:"My Orders"})]})]}):e.jsx("div",{className:"space-y-4",children:G.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.id}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.date).toLocaleDateString()})]}),e.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Delivered"===s.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:s.status})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-sm",children:[s.items," items"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-medium",children:["₹",s.total.toFixed(2)]}),e.jsx(r,{variant:"outline",size:"sm",children:"View Details"})]})]})]},s.id))})})]})}),e.jsx(v,{value:"bookings",children:e.jsxs(y,{children:[e.jsxs(f,{children:[e.jsx(w,{children:"Your Reservations"}),e.jsx(k,{children:"Manage your table reservations"})]}),e.jsx(P,{children:0===q.length?e.jsxs("div",{className:"flex justify-center space-x-8 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"New reservations."}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>x("/reservations"),children:"Book a Table"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Booking History"}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>x("/profile?tab=bookings"),children:"My Booking"})]})]}):e.jsx("div",{className:"space-y-4",children:q.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.id}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(s.date).toLocaleDateString()," at"," ",s.time]})]}),e.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Completed"===s.status?"bg-gray-100 text-gray-800":"bg-amber-100 text-amber-800"),children:s.status})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-sm",children:[s.guests," guests"]}),e.jsxs("div",{className:"flex items-center gap-2",children:["Upcoming"===s.status&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",size:"sm",children:"Modify"}),e.jsx(r,{variant:"outline",size:"sm",className:"text-red-600",children:"Cancel"})]}),"Completed"===s.status&&e.jsx(r,{variant:"outline",size:"sm",children:"Book Again"})]})]})]},s.id))})})]})}),e.jsx(v,{value:"payment",children:e.jsxs(y,{children:[e.jsxs(f,{children:[e.jsx(w,{children:"Payment Methods"}),e.jsx(k,{children:"Manage your payment options"})]}),e.jsx(P,{children:e.jsxs("div",{className:"text-center py-3 ",children:[e.jsx(I,{className:"h-12 w-12 mx-auto text-gray-400 mb-6 "}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Paying attention costs you nothing, but not paying attention could cost you everything."}),e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-center mb-6",children:"We Accept"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png",alt:"UPI",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"UPI"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Paytm_Logo_%28standalone%29.svg/2560px-Paytm_Logo_%28standalone%29.svg.png",alt:"Paytm",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Paytm"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Google_Pay_Logo.svg/512px-Google_Pay_Logo.svg.png",alt:"Google Pay",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Google Pay"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/PhonePe_Logo.svg/1200px-PhonePe_Logo.svg.png",alt:"PhonePe",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"PhonePe"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/MasterCard_logo.png/640px-MasterCard_logo.png",alt:"MasterCard",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"MasterCard"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/1200px-Visa_Inc._logo.svg.png",alt:"Visa",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Visa"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/American_Express_logo_%282018%29.svg/1200px-American_Express_logo_%282018%29.svg.png",alt:"American Express",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Amex"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/RuPay.svg/1200px-RuPay.svg.png",alt:"RuPay",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"RuPay"})]})]})]}),e.jsxs("div",{className:"text-centre  mx-30",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"UPI ID: 8250565455@ybl"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Bank Account: 1256545835"}),e.jsx("p",{className:"text-sm text-gray-600 ",children:"IFSC CODE: SBIN0006"})]}),e.jsxs(r,{className:"bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>x("/checkout"),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Make Payment"]})]})]})]})})]})})]})]})},$=()=>{const{currentUser:t}=l(),i=s(),[c,n]=a.useState([]),[d,m]=a.useState(!0);a.useEffect(()=>{if(!t)return void m(!1);const e=`orders_${t.uid}`,s=localStorage.getItem(e);if(s)try{const e=JSON.parse(s);n(e),m(!1)}catch(a){}},[t]),a.useEffect(()=>{if(!t)return;let e=!0;return(async()=>{Date.now();try{const s=o(x,"orders"),a=h(s,g("userId","==",t.uid),j("date","desc")),i=await p(a),l=[];i.forEach(e=>{const s=e.data();l.push({id:s.id||e.id,date:s.date||(new Date).toISOString(),items:s.items||[],total:s.total||0,status:s.status||"Processing",userId:s.userId||t.uid,userEmail:s.userEmail||t.email,...s})}),e&&l.length>0&&(n(l),localStorage.setItem(`orders_${t.uid}`,JSON.stringify(l)))}catch(s){}finally{e&&m(!1)}})(),()=>{e=!1}},[t]);const u=e=>{switch(e){case"Delivered":return"bg-green-100 text-green-800";case"Processing":return"bg-blue-100 text-blue-800";case"Shipped":return"bg-purple-100 text-purple-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d?e.jsx("div",{className:"container mx-auto py-10 px-4 text-center",children:e.jsx("p",{children:"Loading your orders..."})}):e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Orders"}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile"),children:[e.jsx(_,{className:"h-4 w-4"}),"My Profile"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 bg-gray-100",onClick:()=>i("/profile?tab=orders"),children:[e.jsx(S,{className:"h-4 w-4"}),"My Orders"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile?tab=bookings"),children:[e.jsx(M,{className:"h-4 w-4"}),"My Bookings"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile?tab=payment"),children:[e.jsx(I,{className:"h-4 w-4"}),"Payment Methods"]})]}),0===c.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Check your order history here."}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>i("/menu"),children:"Browse Menu"})]}):e.jsx("div",{className:"space-y-6",children:c.map(s=>{var a,t,l;return e.jsxs(y,{className:"overflow-hidden",children:[e.jsx(f,{className:"bg-gray-50",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(w,{className:"text-lg",children:["Order #",s.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Placed on ",new Date(s.date).toLocaleDateString()," at"," ",new Date(s.date).toLocaleTimeString()]})]}),e.jsx(A,{className:`${u(s.status)} px-3 py-1`,children:s.status})]})}),e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[s.items.map(a=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-md overflow-hidden bg-gray-100",children:e.jsx("img",{src:a.image,alt:a.name,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",a.quantity]}),e.jsxs("p",{className:"font-medium",children:["₹",(a.price*a.quantity).toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Purchased on:"," ",new Date(s.date).toLocaleString()]})]})]},`${s.id}-${a.id}`)),e.jsxs("div",{className:"space-y-1 pt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Subtotal"}),e.jsxs("span",{className:"text-sm",children:["₹",(null==(a=s.subtotal)?void 0:a.toFixed(2))||s.total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Tax (5%)"}),e.jsxs("span",{className:"text-sm",children:["₹",(null==(t=s.tax)?void 0:t.toFixed(2))||(.05*s.total).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Protect Fee"}),e.jsxs("span",{className:"text-sm",children:["₹",(null==(l=s.protectFee)?void 0:l.toFixed(2))||"9.00"]})]}),e.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[e.jsx("span",{className:"font-medium",children:"Total"}),e.jsxs("span",{className:"font-bold",children:["₹",s.total.toFixed(2)]})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs(r,{variant:"outline",size:"sm",className:"text-amber-600 border-amber-600 hover:bg-amber-50",onClick:()=>i(`/order/${s.id}`),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})})]},s.id)})})]})},z=()=>{const{currentUser:t}=l(),i=s(),[c,n]=a.useState([]),[d,m]=a.useState(!0),[u,b]=a.useState(!1);a.useEffect(()=>{if(!t)return void m(!1);const e=`bookings_${t.uid}`,s=localStorage.getItem(e);if(s)try{const e=JSON.parse(s);n(e),m(!1),b(!0)}catch(a){}},[t]),a.useEffect(()=>{if(!t)return;let e=!0;return(async()=>{Date.now();try{const s=o(x,"bookings"),a=h(s,g("userId","==",t.uid),j("date","desc")),i=await p(a),l=[];i.forEach(e=>{const s=e.data();l.push({id:e.id,date:s.date||(new Date).toISOString(),time:s.time||"12:00 PM",guests:s.guests||2,specialRequests:s.specialRequests||"",status:s.status||"Upcoming",userId:s.userId||t.uid,userEmail:s.userEmail||t.email,name:s.name||t.displayName||"Guest",phone:s.phone||"",...s})}),e&&l.length>0?(n(l),b(!1),localStorage.setItem(`bookings_${t.uid}`,JSON.stringify(l))):e&&b(!1)}catch(s){e&&b(!1)}finally{e&&m(!1)}})(),()=>{e=!1}},[t]);const N=e=>{switch(e){case"Upcoming":return"bg-amber-100 text-amber-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d&&0===c.length?e.jsx("div",{className:"container mx-auto py-10 px-4 text-center",children:e.jsx("p",{children:"Loading your bookings..."})}):e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Bookings"}),u&&e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Updating with latest data..."}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile"),children:[e.jsx(_,{className:"h-4 w-4"}),"My Profile"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile?tab=orders"),children:[e.jsx(S,{className:"h-4 w-4"}),"My Orders"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 bg-gray-100",onClick:()=>i("/profile?tab=bookings"),children:[e.jsx(M,{className:"h-4 w-4"}),"My Bookings"]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2",onClick:()=>i("/profile?tab=payment"),children:[e.jsx(I,{className:"h-4 w-4"}),"Payment Methods"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Reservations History"})}),0===c.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"You don't have any reservations yet."}),e.jsx(r,{className:"mt-4 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>i("/reservations"),children:"Book a Table"})]}):e.jsx("div",{className:"space-y-6",children:c.map(s=>e.jsxs(y,{className:"overflow-hidden",children:[e.jsx(f,{className:"bg-gray-50",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(w,{className:"text-lg",children:["Reservation #",s.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.formattedDate||new Date(s.date).toLocaleDateString()," ","at ",s.time]})]}),e.jsx(A,{className:`${N(s.status)} px-3 py-1`,children:s.status})]})}),e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-gray-500"}),e.jsxs("span",{children:[s.guests," ",1===s.guests?"Guest":"Guests"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:s.time})]}),e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx(F,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:"Bengal Bay, Shantipur, Station Rd, 741404"})]})]}),s.specialRequests&&e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Special Requests:"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.specialRequests})]}),e.jsxs("div",{className:"flex justify-end pt-4 gap-2",children:["Upcoming"===s.status&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{return e=s.id,void i(`/reservations?modify=${e}`);var e},children:"Modify"}),e.jsx(r,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>(async e=>{try{if(n(c.map(s=>s.id===e?{...s,status:"Cancelled"}:s)),t){const s=c.map(s=>s.id===e?{...s,status:"Cancelled"}:s);localStorage.setItem(`bookings_${t.uid}`,JSON.stringify(s))}}catch(s){}})(s.id),children:"Cancel"})]}),"Completed"===s.status&&e.jsx(r,{variant:"outline",size:"sm",className:"text-amber-600 border-amber-600 hover:bg-amber-50",onClick:()=>(e=>{i(`/reservations?guests=${e.guests}&time=${e.time}`)})(s),children:"Book Again"}),e.jsxs(r,{variant:"outline",size:"sm",className:"text-amber-600 border-amber-600 hover:bg-amber-50",onClick:()=>i(`/booking/${s.id}`),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"View Details"]})]})]})})]},s.id))})]})},G=()=>{const a=s();return e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Payment Methods"}),e.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 bg-gray-100",onClick:()=>a("/profile?tab=payment"),children:[e.jsx(I,{className:"h-4 w-4"}),"Payment Methods"]})}),e.jsxs(y,{children:[e.jsx(f,{children:e.jsx(w,{children:"Manage your payment options"})}),e.jsx(P,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(I,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Price is what you pay, Value is what you get."}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-center mb-6",children:"We Accept"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/1200px-UPI-Logo-vector.svg.png",alt:"UPI",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"UPI"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Paytm_Logo_%28standalone%29.svg/2560px-Paytm_Logo_%28standalone%29.svg.png",alt:"Paytm",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Paytm"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Google_Pay_Logo.svg/512px-Google_Pay_Logo.svg.png",alt:"Google Pay",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Google Pay"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/PhonePe_Logo.svg/1200px-PhonePe_Logo.svg.png",alt:"PhonePe",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"PhonePe"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/MasterCard_logo.png/640px-MasterCard_logo.png",alt:"MasterCard",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"MasterCard"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/1200px-Visa_Inc._logo.svg.png",alt:"Visa",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Visa"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/American_Express_logo_%282018%29.svg/1200px-American_Express_logo_%282018%29.svg.png",alt:"American Express",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Amex"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/RuPay.svg/1200px-RuPay.svg.png",alt:"RuPay",className:"h-10 object-contain mb-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"RuPay"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(r,{className:"bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>a("/checkout"),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Make Payment"]})})]})]})})]})]})};function q(){const{currentUser:s,loading:a}=l(),r=t(),c=new URLSearchParams(r.search).get("tab")||"profile";if(a)return e.jsx("div",{className:"container mx-auto py-10 px-4 text-center",children:e.jsx("p",{children:"Loading your profile..."})});if(!s)return e.jsx(i,{to:"/login"});return(()=>{switch(c){case"orders":return e.jsx($,{});case"bookings":return e.jsx(z,{});case"payment":return e.jsx(G,{});default:return e.jsx(V,{})}})()}export{q as default};
